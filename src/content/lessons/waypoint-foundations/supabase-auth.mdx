---
title: "Supabase auth, storage, and RLS"
duration: 25
---

## Objectives

- Configure Supabase project keys and service role secrets in `.env.local` and Vercel.
- Apply SQL migrations for profiles, courses, modules, lessons, enrollments, and RLS policies.
- Wire server actions for check-ins, enrollments, and lesson progress with Supabase auth.

## Implementation notes

- Environment variables: `NEXT_PUBLIC_SUPABASE_URL`, `NEXT_PUBLIC_SUPABASE_ANON_KEY`, `SUPABASE_SERVICE_ROLE_KEY`, and `WAYPOINT_SITE_URL`.
- SQL migrations live in `supabase/migrations`; seed data is in `supabase/seed.sql`.
- RLS policies enforce role-based access (admin/instructor) and learner self-service enrollment + progress.
